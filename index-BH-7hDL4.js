(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const u=e=>e.map(([t,...r])=>r?`${t}${r.join(" ")}`:t).join(" "),S=document.querySelector(".viewbox.w"),z=document.querySelector(".viewbox.h"),y=(e,t)=>{const r=u(e),n=`
    <svg draggable="false" width="550" height="500" viewBox="0 0 ${S.value} ${z.value}">
      <path d="${r}" stroke="#fff" fill="#000" />
    </svg>
  `;t.style="--x:0; --y:0",t.setHTMLUnsafe(n)},N=/^[\t\n\f\r ]*([MLHVZCSQTA])[\t\n\f\r ]*/i,w=/^[01]/,p=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,i=p,M=/^(([\t\n\f\r ]+,?[\t\n\f\r ]*)|(,[\t\n\f\r ]*))/,P={M:[i,i],L:[i,i],H:[i],V:[i],Z:[],C:[i,i,i,i,i,i],S:[i,i,i,i],Q:[i,i,i,i],T:[i,i],A:[p,p,i,w,w,i,i]};class g{static components(t,r,n){const o=P[t.toUpperCase()],s=[];for(;n<=r.length;){const l=[t];for(const a of o){const f=r.slice(n).match(a);if(f!==null){l.push(f[0]),n+=f[0].length;const v=r.slice(n).match(M);v!==null&&(n+=v[0].length)}else{if(l.length===1&&s.length>=1)return[n,s];throw new Error(`malformed path (first error at ${n})`)}}if(s.push(l),o.length===0)return[n,s];t==="m"&&(t="l"),t==="M"&&(t="L")}throw new Error(`malformed path (first error at ${n})`)}static parse(t){let r=0,n=[];for(;r<t.length;){const o=t.slice(r).match(N);if(o!==null){const s=o[1];if(r===0&&s.toLowerCase()!=="m")throw new Error(`malformed path (first error at ${r})`);r+=o[0].length;const l=g.components(s,t,r);r=l[0],n=[...n,...l[1]]}else throw new Error(`malformed path (first error at ${r})`)}return n}}const x=(e,t=3)=>g.parse(e).map(([o,...s])=>{const l=s.map(a=>q(a,t));return[o,...l]}),q=(e,t)=>Number(Number(e).toFixed(t)),L=(e,t)=>{u(e),console.log(e);const r=e.map(([n,...o])=>{const s=n.toLowerCase()===n?"lower":"",l=o.map(a=>`<span class="p">${a}</span>`).join("");return`<div class="action"><span class="letter ${n} ${s}">${n}</span>${l}</div>`}).join("");t.setHTMLUnsafe(""),t.insertAdjacentHTML("beforeend",r)},h=document.querySelector(".source"),c=document.querySelector(".preview"),C=document.querySelector(".optimized"),d=document.querySelector(".precision"),b=document.querySelector(".size"),O=document.querySelectorAll(".viewbox");d.addEventListener("input",()=>{d.nextElementSibling.textContent=d.value;const e=x(h.textContent,d.value);y(e,c),L(e,C),b.value=u(e).length});h.addEventListener("input",()=>{const e=x(h.textContent,d.value);y(e,c),L(e,C),b.value=u(e).length});O.forEach(e=>{e.addEventListener("wheel",({deltaY:t})=>{const r=t>0?-1:1;e.value=Math.min(Math.max(1,Number(e.value)+r),2048)})});let m=!1,$=0,E=0;c.addEventListener("mousedown",e=>{m=!0,$=e.offsetX,E=e.offsetY});c.addEventListener("mouseup",()=>m=!1);c.addEventListener("mouseleave",()=>m=!1);c.addEventListener("mousemove",e=>{if(!m)return;const t=c.style.getPropertyValue("--x"),r=c.style.getPropertyValue("--y"),n=e.offsetX+Number(t)-$,o=e.offsetY+Number(r)-E;c.style.setProperty("--x",n),c.style.setProperty("--y",o)});c.addEventListener("wheel",e=>{e.preventDefault();const t=e.deltaY>0?15:-15,r=c.children[0],[n,o,s,l]=r.getAttribute("viewBox").replaceAll(","," ").split(" ");r.setAttribute("viewBox",`${n} ${o} ${Number(s)+t} ${Number(l)+t}`)});c.addEventListener("dragstart",e=>e.preventDefault());c.addEventListener("drop",e=>e.preventDefault());
